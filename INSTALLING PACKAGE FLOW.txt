dnf install httpd
Iâ€™ll break it into the step-by-step flow so you know when it reads local config and when it fetches from the internet.

1ï¸âƒ£ You run the command
dnf (Dandified YUM) starts up.

It parses your command: install â†’ means â€œinstall this package and any dependencies.â€

It records the target package name: httpd.

2ï¸âƒ£ Reads config files
Before touching the internet, DNF always checks local configuration files:

/etc/dnf/dnf.conf â†’ global DNF settings (e.g., cache dir, fastest mirror, GPG checks).

/etc/yum.repos.d/*.repo â†’ list of repository definitions.

Each .repo file has:

name â†’ human name of repo

baseurl or mirrorlist â†’ where to download packages

enabled flag

gpgcheck and key location

âœ… At this stage, no download yet â€” itâ€™s just figuring out where to look.

3ï¸âƒ£ Checks local cache
DNF checks its metadata cache (in /var/cache/dnf/) to see if it already knows what packages and versions are available.

If cache is fresh (based on metadata_expire in repo file), it uses it.

If cache is expired or missing, it downloads repo metadata from the URLs in .repo files.

ğŸ”¹ Repo metadata contains the list of packages, dependencies, and file locations â€” not the actual package yet.

4ï¸âƒ£ Resolves dependencies
Using the metadata, DNF figures out:

Which package provides httpd.

All required dependencies (e.g., apr, apr-util, httpd-tools).

If dependencies arenâ€™t already installed, they are added to the install list.

5ï¸âƒ£ Downloads packages from the internet
Once it knows the exact .rpm files it needs, DNF:

Connects to the repo servers from the .repo config.

Downloads each .rpm into the cache directory.

6ï¸âƒ£ GPG verification
Before installing, DNF verifies each downloaded RPM against its GPG key (key location is in .repo file).

If keys arenâ€™t installed, DNF prompts to import them.

7ï¸âƒ£ Installs packages
Uses rpm internally to install the .rpm files.

Updates the RPM database (/var/lib/rpm).

Registers files with the system.

8ï¸âƒ£ Post-install scripts
Runs any post-install scripts included in the RPM (e.g., create config dirs, systemd unit files).

In case of httpd, it will:

Place Apache config files in /etc/httpd/

Create systemd service unit httpd.service





Command â†’ Read dnf.conf & .repo â†’ Check cache â†’ (If needed) Download metadata â†’ Resolve deps â†’ Download RPMs â†’ Verify GPG â†’ Install â†’ Post-install scripts

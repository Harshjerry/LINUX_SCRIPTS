
split -d -a 2 -l $(( ($(wc -l < data.csv)-1 + 9)/10 )) <(tail -n +2 data.csv) data- && for f in data-*; do mv "$f" "$f.csv" && sed -i "1i$(head -n 1 data.csv)" "$f.csv"; done

truncate -s 32000 data-0{0..9}.csv


Description: Break the Comma Separated Valued (CSV) file data.csv in the /home/admin/ directory into exactly 10 smaller files of about the same size named data-00.csv, data-01.csv, ... , data-09.csv files in the same directory. All the files should have the same header (first line with column names) as data.csv. None of the smaller files should be bigger than 32KB.

Note: to simplify, disregard broken lines in your files (ie, you can break a file at any point, not just at a newline). The resulting files don't have to be proper CSV files.